# 带不等式约束的最值问题

本文从拉格朗日对偶的角度导出KKT条件，并给出KKT条件相对于凸问题的充分性。


## 拉格朗日对偶的定义

## 对偶函数的性质

### 极大化对偶函数



## 强弱对偶


## KKT条件

实际上KKT条件是强对偶成立的必要性条件。故满足KKT条件的点只是强对偶成立的候选点。里面的点有些是确实是强对偶成立的点，有些并不是。





## 凸问题的KKT条件的充分性
对于凸问题而言，满足KKT条件的点确就是强对偶成立的点。



## 示例

对偶转换以后，求解对偶函数的过程，本质上就是一个含参数的极值问题。


例子
```math
min \quad x_1^2 + x_2^2  

s.t. \quad x_1 + x_2 -4 \ge 0,
    x_1,x_2 \ge 0
```
写出其对偶函数
```math
\theta(w)=\inf_x(x_1^2 + x_2^2 - w (x_1 + x_2 -4)|x_1 \ge 0,x_2 \ge 0)
```
这里`$x_1$`和`$x_2$`是可分离的，因为它们互相不影响。

```math
\theta(w)=\inf_x(x_1^2 -wx_1 |x_1 \ge 0) + \inf_x( x_2^2 -w x_2 |x_2 \ge 0) -4w
```
实际上
```math
\inf_x(x_1^2 -w x_1 |x_1 \ge 0)
```
就是一个含参数`$w$`的二次函数最值问题
`$g(x_1) = x_1^2 -w x_1$`,极值点`$g'(x_1)=0$`解出`$x_1 = w/2 $`现在对于这个含参二次函数而言，`$x \le w/2 $`则`$g'(x_1)  < 0$`当`$x > w/2$`时`$g'(x_1) >0$`.
而必须满足`$x_1 \ge 0$`.可见，如果`$w/2 >0$`这个时候，极值点在定义域内,`$\inf_x(x_1^2 -w x_1 |x_1 \ge 0)=(\frac{w}{2})^2-w * \frac{w}{2} = -\frac{w^2}{4}$`
而当`$w/2 <0$`的时候，在定义域`$x_1 >0$`范围内，`$g(x_1)$`是单调递增的，那么`$\inf_x(x_1^2 -w x_1 |x_1 \ge 0)=g(0) = 0$`

整理可得  
`$w>0$`的时候
```math
\theta(w)=\inf_x(x_1^2 + x_2^2 - w (x_1 + x_2 -4)|x_1 \ge 0,x_2 \ge 0)=-\frac{w^2}{4}  -\frac{w^2}{4} + 4w = -w^2/2 +4w
```

`$w<0$`的时候的时候
```math
\theta(w)=\inf_x(x_1^2 + x_2^2 - w (x_1 + x_2 -4)|x_1 \ge 0,x_2 \ge 0)=0 + 0 + 4w =4w
```

那么新的目标函数变成了
```math
max \quad -w^2/2 +4w  \\
s.t.\quad w \ge 0
```
那么`$g'(w)=-w + 4$`,那么`$w>4,g'(w) \le 0,0<w<4,g'(w) \ge 0$`.
可见在`$w \ge 0$`的区间里有`$g(w) \le g(4) = 8$`




[toc]

## 问题引入
为了计算曲边梯形的面积.
(1)确定一个分割$P:a=x_0 < x_1 < ...< x_n=b$
把区间$[a,b]$分成n个小区间$[x_{i-1},x_{i}]$,其长度为$\Delta x_i = x_i -x_{i-1},i=1,2,...,n$.
(2)求和:再每个区间上任意地选取一点$\xi_i$,而不能选取子区间的端点,区间的中点以及任意其他特殊的点,以排除偶然性,用$f(\xi_i)\Delta x_i$来近似第i个曲边梯形的面积,再用和式$\sum_{i=1}^{n}f(\xi_i)\Delta x_i$来替代曲边梯形的面积.
(3)取极限,不断的把分割加密,加密的过程就是一个取极限的过程.$\lim \sum_{i=1}^{n}f(\xi_i)\Delta x_i$.
那到底对什么东西取极限呢? 是不是直接令$n \to \infty$,实际上这个无法保证每个区间是够细的,这是因为前面的分割本身是任意的,并不是等分确定的.

确定一个数$||P|| =\max_{1\le i\le n}\{\Delta x_i\}$称为分割的宽度.很明显,这个分割的宽度的大小能反映分割是不是很细密.

极限过程改写为$\lim\limits_{||P|| \to 0}\sum_{i=1}^{n}f(\xi_i)\Delta x_i$

如果这个极限是存在的,即对$\xi \in [x_{i-1},x_{i}]$的所有可能的取法得出的极限是同一个值.


## 定积分定义
[1.]设函数f在区间$[a,b]$是有定义的.如果存在实数I,使得对于任意给定的$\varepsilon >0$,都存在$\delta >0$,只要$[a,b]$上的分割满足$||P|| < \delta$,对于任意的$\xi_i \in [x_{i-1},x_i]$如何取定都有
$$
|I-\sum_{i=1}^{n}f(\xi)\Delta x_i| < \varepsilon
$$
成立,则称f在$[a,b]$上黎曼可积$Riemann$可积.
一般地记$I=\int_{a}^{b}f(x)dx$

如果对于给定的一个分割$P$,称$\{x_0,x_1,...,x_n\}$为分割的分点序列;和式$\sum_{i=1}^{n}f(\xi_i)\Delta x_i,\Delta x_i=x_i -x_{i-1}$称为$Rimann$和,或者部分和.
$\{\xi_1,\xi_1,...,\xi_n\}$称为积分的值点序列.
$$I=\lim\limits_{||P|| \to 0}\sum_{i=1}^n f(\xi_i)\Delta x_i$$

所以定积分的本质依然是极限.

[2.]我们总是希望分割是变得越来越细密的.
如果闭区间的$[a,b]$的分割的序列$\{P^{(n)}\}$满足条件$\lim\limits_{n \to \infty}|P^{(n)}|=0$
那么我们就说$\{P^{(n)}\}$是一个无穷细分割序列.



## 定积分的基本性质



### Newdon-Leibniz公式



## 可积函数类


## 定积分的计算方法

### 分部积分里面的一个疑问
$\int_{a}^{b}f(x)d\varphi(x) = \sum_{i=1}^{n}f(x)(\varphi(x_i) - \varphi(x_{i-1}))=\sum_{i=1}^{n}f(x)\varphi'(\xi)(x_i - x_{i-1})$
1.这里需要强调的是,这样类似的积分形式,称为$Stieltjes$积分.
2.这里的积分范围依然是x的范围,$x \in [a,b]$.而不是$\varphi(x) \in [a,b]$.
3.不加证明的可以认为$\int_{a}^{b}f(x)d\varphi(x)=\int_{a}^{b}f(x)\varphi'(x)dx$

一般来说,会这样做的时候一般都是使用分部积分的时候,这样确实给学习者带了了很多困扰,其实是有办法取消除这样的歧义的.

$f(x)=f(x_0) + \int_{x_0}^{x}f'(t)dt$

一种形式是,这个也是很多教科书上的写法$f(x)=f(x_0) + \int_{x_0}^{x}f'(t)dt=f(x_0) + \int_{x_0}^{x}f'(t)d(t-x)=f(x_0) + (t-x)f'(t)|_{x_0}^{x} -\int_{x_0}^{x}f''(t)(t-x)dt$
然后使用分部积分进行展开.

如果换种更加贴近分部积分原始形式的写法,是不会带来这样的歧义的
$f(x)=f(x_0) + \int_{x_0}^{x}f'(t)dt=f(x_0) + \int_{x_0}^{x}(t-x)'f'(t)dt=f(x_0) + (t-x)f'(t)|_{x_0}^{x} -\int_{x_0}^{x}f''(t)(t-x)dt$
这里将$(t-x)'=v'(t),f'(t) = u(t)$自然有
$\int_{x_0}^{x}v'(t)u(t)dt=v(t)u(t)-\int_{x_0}^{x}u'(t)v(t)dt$与之对应的就是
$\int_{x_0}^{x}(t-x)'f'(t)dt=(t-x)f'(t)|_{x_0}^{x} -\int_{x_0}^{x}f''(t)(t-x)dt$
这样便不会出现有歧义的地方,但是达到的效果确实一样的.

### 定积分换元法

$$\int_{g(a)}^{g(b)}f(u)du=\int_{a}^{b}f(g(x))g'(x)dx$$

proof:
不妨假设$f(u)$的原函数为$F(u)$,即$F'(u)=f(u)$利用$Newton-Leibniz$公式有
$\int_{g(a)}^{g(b)}f(u)du = F(u)|_{g(a)}^{g(b)}=F(g(b))-F(g(a))$

很显然的是$F(g(x))$是$f(g(x))g'(x)$的原函数.
因为$dF(g(x))/dx=F'(g(x))g'(x)=f(g(x))g'(x)$
那么可以知道$\int_{a}^{b}f(g(x))g'(x)dx=F(g(x))|_{a}^{b}=F(g(b))-F(g(a))$
由此可见是成立的.
$\blacksquare$

### 定积分凑微分

一般来说求解类似$\int_{a}^{b}f(g(x))g'(x)dx$的定积分采用凑微分的方法,但是用凑微分的时候,让人疑惑的是到底要不要改变积分上下限.
根据定积分的换元法我们知道,$u=g(x),x \in [a,b]$那么必然有
$\int_{g(a)}^{g(b)}f(u)du=\int_{a}^{b}f(g(x))g'(x)dx$

疑惑点在于要证明$\int_{a}^{b}f(g(x))g'(x)dx = \int_{a}^{b}f(g(x))dg(x)$

$\int_{a}^{b}f(g(x))dg(x)$这个里面的a,b是x的范围,利用换元令$u=g(x)$,那么$\int_{a}^{b}f(g(x))dg(x)$可以变成$\int_{g(a)}^{g(b)}f(u)du$.

根据前面的证明,我们是知道$\int_{g(a)}^{g(b)}f(u)du=\int_{a}^{b}f(g(x))g'(x)dx$

那么就有$\int_{a}^{b}f(g(x))dg(x)=\int_{a}^{b}f(g(x))g'(x)dx$

试想一个问题,如果$\int_{a}^{b}f(g(x))dg(x)$这个里面的a,b是g(x)的范围,进行换元后,那么$\int_{a}^{b}f(g(x))dg(x)$可以变成$\int_{a}^{b}f(u)du$.很显然$\int_{a}^{b}f(u)du \ne \int_{a}^{b}f(g(x))g'(x)dx$



